---
title: "Final Project: Reproducible Research"
author: "Xinyi Zhou, and Wuzhen Han"
date: 11/28/2024
format: 
  pdf:
    include-in-header: 
       text: |
         \usepackage{fvextra}
         \DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
include-before-body:
  text: |
    \RecustomVerbatimEnvironment{verbatim}{Verbatim}{
      showspaces = false,
      showtabs = false,
      breaksymbolleft={},
      breaklines
    }
---

### 1. Data collation

```{python}
import requests
from bs4 import BeautifulSoup
import pandas as pd

url = 'https://taxfoundation.org/blog/federal-coronavirus-aid-to-states-under-cares-act/'
response = requests.get(url)
soup = BeautifulSoup(response.content, 'html.parser')

table = soup.find('table')

data = []
headers = [header.text.strip() for header in table.find_all('th')]
for row in table.find_all('tr')[1:]:
    cells = row.find_all('td')
    data.append([cell.text.strip() for cell in cells])

df = pd.DataFrame(data, columns=headers)

save_path = '/Users/wuzhenhan/Desktop/final-project-xy-wz/data/cares_act_funding.csv'
df.to_csv(save_path, index=False)

print(f"Data was successfully saved to {save_path}")

```
